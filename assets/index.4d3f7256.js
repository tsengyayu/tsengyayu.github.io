import{o as m,c as h,a as x,u as L,R as X,r as v,b as P,F as U,d as D,i as R,t as C,e as Z,P as ee,g as j,f as z,h as te,j as oe,k as V,Y as q,w as M,l as F,m as ae,n as W,p as se,q as N,s as t,v as J,x as g,y as w,z as S,A as K,B as G,C as y,D as B,E as ne,G as le,H as re,I as ie}from"./vendor.be8d1c76.js";const ue=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}};ue();var T=(o,s)=>{const e=o.__vccOpts||o;for(const[a,n]of s)e[a]=n;return e};const ce={id:"root"},de={setup(o){return(s,e)=>(m(),h("div",ce,[x(L(X))]))}};var ve=T(de,[["__scopeId","data-v-7ab6e8e2"]]);const _e={class:"tab-root"},pe=["onClick"],fe={emits:["onTabSelected"],setup(o,{emit:s}){const e=v(0);R("setContentEditShow");const a=R("isContentEditShow"),n=P(()=>a.value?["\u9996\u9801","\u5275\u5EFA/\u767B\u5165"," \u751F\u6D3B\u65E5\u8A18","\u5167\u5BB9\u7DE8\u8F2F"]:["\u9996\u9801","\u5275\u5EFA/\u767B\u5165"," \u751F\u6D3B\u65E5\u8A18"]);function r(c){e.value=c,console.log(c),s("onTabSelected",c)}return(c,i)=>(m(),h("div",_e,[(m(!0),h(U,null,D(L(n),(u,d)=>(m(),h("div",{class:"btn",key:u,onClick:_=>r(d)},C(u),9,pe))),128))]))}};var ge=T(fe,[["__scopeId","data-v-38b98fea"]]),me="/assets/pic-1.d2537eb7.jpeg",he="/assets/ig-icon.6c0f5ddb.png";const be={apiKey:"AIzaSyDuF4cljN9EPkNLRRHLOjfqEEByFdPPAL8",authDomain:"cookielife-de262.firebaseapp.com",projectId:"cookielife-de262",storageBucket:"gs://cookielife-de262.appspot.com",messagingSenderId:"92600885191",appId:"1:92600885191:web:4e2175538c90866f9743e2"},O=Z(be);async function ye(o,s){const e=j(O),a=z(e,o);te(a,s).then(n=>{console.log("Uploaded a blob or file!")})}async function we(o){const s=j(O);var e=await oe(z(s,"diary/"+o+"/contentImage"));return e}const $=ee(O);async function $e(o){const s=V($,"diary",o),e=await q(s);return e.exists()?(console.log("Document data:",e.data()),e):(console.log("No such document!"),null)}async function Se(o){const s=V($,"user",o),e=await q(s);return e.exists()?(console.log("Document data:",e.data()),e):(console.log("No such document!"),null)}async function Te(){const o=M($,"user");return(await F(o)).docs}async function xe(o,s){await ae(V($,"user",o),{password:s})}async function Ce(o,s){return await W(M($,"diary"),{title:o,text:s,createTime:se()})}async function ke(o,s,e){console.log("createComment"),console.log(o),console.log(s),console.log(e),await W(M($,"diary/"+e+"/comment"),{name:s,comment:o})}async function Ie(){return(await F(M($,"diary"))).docs}async function Ue(o){return(await F(M($,"diary/"+o+"/comment"))).docs}var b={getUsers:Te,getUser:Se,createUser:xe,createDiary:Ce,getDiaries:Ie,getDiary:$e,createComment:ke,showMessages:Ue,testUpload:ye,getDiaryContentImageUrl:we};function De(o){const s=Math.floor(o/60);return o=o%60,s+":"+o}function Q(o){var s=new Date(o),e=s.getFullYear(),a=s.getMonth()+1;a<10&&(a="0"+a);var n=s.getDate();return n<10&&(n="0"+n),console.log(s),console.log(a),console.log(n),e+"-"+a+"-"+n}function Me(o){var s=new Date(o),e=s.getHours(),a=s.getMinutes();return Q(o)+" "+e+":"+a}var Ee={secToHHMMSS:De,timestampToYYYY_MM_DD:Q,timestampToYYYY_MM_DD_mm:Me};const Ne={id:"tab-home-root"},Ye=J('<div class="top" data-v-278b35fe><img src="'+me+'" alt="\u4E0D\u597D\u610F\u601D\uFF0C\u672C\u67F4\u5BB3\u7F9E\uFF0C\u66AB\u6642\u4E0D\u898B\u4EBA" data-v-278b35fe><h1 style="font-family:Festive;" data-v-278b35fe>Cookie</h1></div><div class="bottom word1" data-v-278b35fe><div class="bottom-bgcolor" data-v-278b35fe><h2 data-v-278b35fe>\u59D3\u540D\uFF1ACookie</h2><h2 data-v-278b35fe>\u5E74\u9F61\uFF1A3</h2><h2 data-v-278b35fe>\u751F\u65E5\uFF1A12\u67081\u865F</h2><h2 data-v-278b35fe>\u9AD4\u91CD\uFF1A7\u516C\u65A4</h2><h2 data-v-278b35fe>\u7279\u5FB5\uFF1A\u8116\u5B50\u6234\u8457\u767D\u570D\u5DFE\uFF0C\u8173\u4E0A\u7A7F\u8457\u767D\u896A\u896A\uFF0C\u6BCF\u5929\u53EA\u6703\u61A8\u7B11</h2></div></div>',2),Re={class:"picture"},Le=["src"],Ve={class:"picture"},Fe=["src"],Oe=J('<div class="word bottom-bgcolor" style="margin-top:50px;" data-v-278b35fe><p data-v-278b35fe> \u6C6A\u6C6A...\u5927\u5BB6\u597D\u6211\u53EB\u66FEcookie\uFF0C\u662F\u4E00\u96BB\u67F4\u67F4\uFF0C\u4E09\u5E74\u524D\u4F86\u5230\u9019\u500B\u5BB6\u5F8C\u6BCF\u5929\u5C31\u904E\u8457\u7687\u5E1D\u822C\u7684\u751F\u6D3B\u3002 <br data-v-278b35fe>\u56E0\u70BA\u98FC\u6599\u4E7E\u5DF4\u5DF4\u7684\uFF0C\u597D\u96E3\u5403\uFF0C\u6240\u4EE5\u6BCF\u5929\u90FD\u6709\u9BAE\u98DF\uFF0C\u96D6\u7136\u6211\u9084\u662F\u90A3\u9EBC\u7626\u3002 <br data-v-278b35fe>\u672C\u4F86\u6211\u6BCF\u5929\u5230\u898F\u5B9A\u6642\u9593\u5C31\u8981\u88AB\u95DC\u56DE\u5BB6\u7761\u89BA\uFF0C\u4F46\u662F\u4F9D\u9760\u6211\u7684\u7B11\u5BB9\u548C\u5805\u6301\u4E0D\u61C8\u7684\u7CBE\u795E\uFF0C\u7D42\u65BC\u6574\u500B\u4E00\u6A13\u90FD\u662F\u6211\u7684\u5730\u76E4\u4E86\uFF01 <br data-v-278b35fe>\u6BCF\u5929\u665A\u4E0A\u90FD\u662F\u6211\u7684\u6563\u6B65\u6642\u9593\uFF0C\u5728\u8DEF\u4E0A\u6211\u90FD\u6703\u770B\u5230\u6211\u7684\u5C0F\u9ED1\u670B\u53CB\uFF0C\u6211\u4E00\u76F4\u60F3\u8981\u627E\u4ED6\u5011\u73A9\uFF0C\u4F46\u4ED6\u5011\u90FD\u4E0D\u7406\u6211\u8B93\u6211\u597D\u96E3\u904E\u3002 <br data-v-278b35fe>\u5373\u4F7F\u9019\u6A23\uFF0C\u6211\u9084\u662F\u6709\u611B\u6211\u7684\u5BB6\u4EBA\u6BCF\u5929\u966A\u6211\u73A9\u3002 <br data-v-278b35fe>\u56E0\u70BA\u904E\u8457\u9019\u7A2E\u60A0\u9592\u7684\u751F\u6D3B\uFF0C\u6240\u4EE5\u6211\u6BCF\u5929\u90FD\u6703\u7B11\u8457\u5C0D\u5F85\u6BCF\u4E00\u500B\u4EBA\uFF0C\u5E0C\u671B\u5E36\u7D66\u5927\u5BB6\u5E78\u798F\u3002 </p></div><div class="special" style="margin-top:50px;" data-v-278b35fe><div class="word word1" data-v-278b35fe><h2 data-v-278b35fe>\u7279\u9577\uFF1A</h2><h3 data-v-278b35fe>\u{1F31F}\u54AC\u4EBA</h3><p data-v-278b35fe> \u4E0D\u7528\u61F7\u7591\uFF0C\u9019\u5C31\u662F\u6211\u7684\u7279\u9577\u4E4B\u4E00\uFF0C\u6211\u6700\u6703\u8DDF\u5728\u5225\u4EBA\u5F8C\u9762\u53BB\u54AC\u4ED6\u5011\u7684\u5C0F\u817F\u4E86\uFF0C<br data-v-278b35fe> \u4F46\u662F\u6211\u4E0D\u662F\u8981\u53BB\u50B7\u5BB3\u5225\u4EBA\uFF0C\u6211\u53EA\u662F\u60F3\u8981\u5F15\u8D77\u5225\u4EBA\u7684\u6CE8\u610F\uFF0C\u8B93\u4ED6\u5011\u53EF\u4EE5\u62B1\u62B1\u6211\uFF0C<br data-v-278b35fe> \u8DDF\u6211\u73A9\uFF0C\u6CE8\u610F\u529B\u7121\u6642\u7121\u523B\u90FD\u5728\u6211\u8EAB\u4E0A\u3002 </p><h3 data-v-278b35fe>\u{1F31F}\u8070\u660E</h3><p data-v-278b35fe> \u6211\u6C92\u6709\u81EA\u8A87\uFF0C\u6211\u771F\u7684\u5F88\u8070\u660E\uFF0C\u96D6\u7136\u6211\u88AB\u898F\u5B9A\u4E0D\u80FD\u5230\u6A13\u4E0A\uFF0C\u4F46\u53EA\u8981\u9580\u7559\u6709\u4E00\u7D72\u7E2B\u9699\uFF0C<br data-v-278b35fe> \u6211\u5C31\u80FD\u8D81\u6A5F\u947D\u4E0A\u53BB\uFF0C\u7D93\u904E\u591A\u6B21\u7684\u7D93\u9A57\uFF0C\u6211\u767C\u73FE\u6A13\u4E0A\u771F\u7684\u662F\u4E0A\u5EC1\u6240\u7684\u597D\u5730\u65B9\u3002<br data-v-278b35fe> \u7576\u7136\uFF0C\u8070\u660E\u4E0D\u80FD\u53EA\u7528\u5728\u4E00\u500B\u5730\u65B9\u3002\u70BA\u4E86\u80FD\u5920\u54C1\u5690\u5404\u7A2E\u7F8E\u98DF\uFF0C\u6211\u7279\u5225\u514B\u670D\u9AD8\u5EA6\uFF0C<br data-v-278b35fe> \u80FD\u5920\u8DF3\u4E0A\u9910\u684C\u6905\uFF0C\u5077\u5403\u684C\u4E0A\u7684\u96DE\u3002\u96D6\u7136\u6BCF\u6B21\u90FD\u9084\u4F86\u4E0D\u53CA\u5403\u6389\u5C31\u88AB\u6436\u56DE\u53BB\uFF0C\u4E00\u76F4\u88AB\u7F75\uFF0C<br data-v-278b35fe> \u4F46\u4ED6\u5011\u90FD\u8AAA\u6211\u5F88\u8070\u660E\uFF0C\u77E5\u9053\u8981\u53FC\u96DE\u817F\u3002\u96DE\u817F\u662F\u6211\u54AC\u7684\u90A3\u584A\u8089\u7684\u540D\u7A31\u55CE\uFF1F\u597D\u5427\uFF0C<br data-v-278b35fe> \u6211\u9084\u662F\u4E0D\u77E5\u9053\uFF0C\u4F46\u6211\u77E5\u9053\u6211\u5F88\u8070\u660E\u5566\u3002 </p></div></div><div class="word subject" style="font-family:Festive;" data-v-278b35fe><h3 data-v-278b35fe> \u9019\u500B\u7DB2\u7AD9\u662F\u6211\u7684\u5C0F\u4E3B\u4EBA\u5011\u70BA\u4E86\u7D00\u9304\u6211\u7684\u751F\u6D3B\u6240\u5EFA\u7ACB\u7684\uFF0C\u6BCF\u5929\u7684\u751F\u6D3B\u7D00\u9304\u90FD\u6703\u5728\u9019\u4E0A\u9762\uFF0C <br data-v-278b35fe>\u6709\u8208\u8DA3\u77E5\u9053\u6211\u7684\u65E5\u5E38\u751F\u6D3B\u7684\u4EBA\u90FD\u53EF\u4EE5\u96A8\u6642\u95DC\u6CE8\u9019\u500B\u7DB2\u7AD9\uFF0C\u4E5F\u53EF\u4EE5\u8FFD\u8E64\u4E0B\u9762\u7684ig\u5594 </h3><img style="margin-bottom:50px;user-select:none;-webkit-user-drag:none;" src="'+he+'" data-v-278b35fe></div>',3),He={setup(o){const s=v(18),e=v(25),a=v(22);P(()=>s.value+e.value+a.value);function n(r){return`./bottom-pic-${r}.jpeg`}return N(()=>{b.getUsers().then(r=>{console.log(r)}),setTimeout(()=>{s.value=100},6e3)}),(r,c)=>(m(),h("div",Ne,[Ye,t("div",Re,[(m(),h(U,null,D([1,2,3],i=>t("div",{class:"circle-test",key:i},[t("img",{src:n(i)},null,8,Le)])),64))]),t("div",Ve,[(m(),h(U,null,D([4,5],i=>t("div",{class:"circle-test",key:i},[t("img",{src:n(i)},null,8,Fe)])),64))]),Oe]))}};var Be=T(He,[["__scopeId","data-v-278b35fe"]]),k=null,A=localStorage.getItem("user");A&&(k=JSON.parse(A));function Ae(o){k={username:o},localStorage.setItem("user",JSON.stringify(k)),console.log(k)}function Pe(){k=null,localStorage.setItem("user",null)}function je(){return k}var I={getUser:je,updateUser:Ae,logout:Pe};const E=o=>(K("data-v-6285774b"),o=o(),G(),o),ze={id:"Tab-Login"},qe={class:"login-region diamod"},We={style:{padding:"50px"}},Je=E(()=>t("h1",null,"Sign in",-1)),Ke=y("userName\uFF1A "),Ge=y("passWord\uFF1A"),Qe=E(()=>t("br",null,null,-1)),Xe=y(" \u9084\u6C92\u6709\u5E33\u865F\uFF1F \u8ACB\u6309\uFF1A"),Ze={class:"register-region diamod"},et={style:{padding:"50px"}},tt=E(()=>t("h1",null,"Create",-1)),ot=y("userName\uFF1A "),at=y("passWord\uFF1A"),st=E(()=>t("br",null,null,-1)),nt=y(" \u5DF2\u6709\u5E33\u865F\uFF0C\u8ACB\u6309\uFF1A "),lt={class:"register-region diamod"},rt=E(()=>t("h3",null,"\u60A8\u5DF2\u767B\u5165",-1)),it={emits:["subTabSelected"],setup(o,{emit:s}){const e=v(""),a=v(""),n=v(1);v(0),N(()=>{var f=I.getUser();f&&(console.log(f),e.value=f.username,n.value=3)});function r(f){n.value=f}const c=R("setContentEditShow");async function i(f){var l=await b.getUser(e.value);if(!l){alert("login failed");return}if(l.data().password!=f){alert("login failed");return}alert("login success"),I.updateUser(l.id),n.value=3,console.log(l.data().password),c(l.id=="cookie")}function u(f){for(var l=0;l<=f.length;l++){var p=f.charCodeAt(l);if(p<48||p>57&&p<65||p>90&&p<97)return alert("number or English only"),!1}return!0}async function d(){if(console.log(e.value),console.log(a.value),e.value.length<1||e.value.length>20||a.value.length<1||a.value.length>20){alert("format error");return}if(!(!u(e.value)||!u(a.value))){for(var f=await b.getUsers(),l=0;l<f.length;l++){var p=f[l].id;if(f[l].data(),e.value==p){alert("\u5E33\u865F\u5DF2\u6709\u4EBA\u4F7F\u7528\uFF0C\u8ACB\u91CD\u65B0\u8F38\u5165");return}}b.createUser(e.value,a.value)}}function _(){I.logout(),n.value=1,e.value=null,a.value=null,c(!1)}return(f,l)=>(m(),h("div",ze,[g(t("div",qe,[t("div",We,[Je,t("p",null,[Ke,g(t("input",{"onUpdate:modelValue":l[0]||(l[0]=p=>e.value=p)},null,512),[[S,e.value]])]),t("p",null,[Ge,g(t("input",{"onUpdate:modelValue":l[1]||(l[1]=p=>a.value=p)},null,512),[[S,a.value]])]),Qe,t("button",{onClick:l[2]||(l[2]=p=>i(a.value))},"login"),t("h3",null,[Xe,t("span",{onClick:l[3]||(l[3]=p=>r(2)),style:{cursor:"pointer","user-select":"none"}},"\u5275\u5EFA")])])],512),[[w,n.value==1]]),g(t("div",Ze,[t("div",et,[tt,t("p",null,[ot,g(t("input",{"onUpdate:modelValue":l[4]||(l[4]=p=>e.value=p)},null,512),[[S,e.value]])]),t("p",null,[at,g(t("input",{"onUpdate:modelValue":l[5]||(l[5]=p=>a.value=p)},null,512),[[S,a.value]])]),st,t("button",{onClick:d},"create"),t("h3",null,[nt,t("span",{onClick:l[6]||(l[6]=p=>r(1)),style:{cursor:"pointer","user-select":"none"}},"\u767B\u5165")])])],512),[[w,n.value==2]]),g(t("div",lt,[t("div",{style:{padding:"50px"}},[rt,t("button",{onClick:_},"\u767B\u51FA")])],512),[[w,n.value==3]])]))}};var ut=T(it,[["__scopeId","data-v-6285774b"]]);const ct={id:"Tab-edit"},dt=y(" \u7167\u7247"),vt=y("\u6A19\u984C\uFF1A"),_t=y("\u5167\u6587\uFF1A"),pt={emits:["subTabSelected"],setup(o,{emit:s}){const e=v(""),a=v(""),n=v(null);function r(){n.value=document.getElementById("photoFile").files[0]}async function c(){if(document.getElementById("photoFile").value="",a.value.length<1||a.value.length>1e3||e.value.length<1||e.value.length>20){alert("format error");return}const i=await b.createDiary(e.value,a.value);await b.testUpload("diary/"+i.id+"/contentImage",n.value),alert("\u6587\u7AE0\u5275\u5EFA\u6210\u529F\uFF01"),e.value="",a.value="",n.value=""}return(i,u)=>(m(),h("div",ct,[t("p",null,[dt,t("input",{type:"file",id:"photoFile",accept:"image/*",onChange:u[0]||(u[0]=d=>r())},null,32)]),t("p",null,[vt,g(t("textarea",{cols:"1",class:"title","onUpdate:modelValue":u[1]||(u[1]=d=>e.value=d)},null,512),[[S,e.value]])]),t("p",null,[_t,g(t("textarea",{cols:"10",class:"input","onUpdate:modelValue":u[2]||(u[2]=d=>a.value=d)},null,512),[[S,a.value]])]),t("button",{onClick:u[3]||(u[3]=d=>c())},"\u767C\u9001")]))}};var ft=T(pt,[["__scopeId","data-v-7f2660f9"]]);const Y=o=>(K("data-v-6e57a883"),o=o(),G(),o),gt={id:"root-diary"},mt={class:"left"},ht={style:{"background-color":"blanchedalmond",width:"auto","border-radius":"25px","margin-left":"10px"}},bt=Y(()=>t("h1",{class:"leftMargin",style:{"padding-top":"10px"}},"\u7559\u8A00\u5340",-1)),yt={class:"leftMargin"},wt=Y(()=>t("p",null,null,-1)),$t=Y(()=>t("p",null,null,-1)),St={class:"leftMargin",style:{"padding-bottom":"20px"}},Tt=y(" \u7559\u8A00\uFF1A"),xt={class:"right"},Ct=["src"],kt={class:"fontStyle"},It={style:{"font-size":"6px"}},Ut={class:"fontStyle"},Dt=["onClick"],Mt=Y(()=>t("hr",null,null,-1)),Et={setup(o){const s=v([]),e=v(""),a=v(""),n=v([]);v([]);const r=v({});N(()=>{b.getDiaries().then(u=>{s.value=u,s.value.forEach(d=>{b.getDiaryContentImageUrl(d.id).then(_=>{r.value[d.id]=_})})})});async function c(){const u=a.value;a.value="";var d=await b.getDiary(e.value);!d||!I.getUser()||(await b.createComment(u,I.getUser().username,d.id),i(e.value))}async function i(u){e.value=u,n.value=await b.showMessages(e.value),console.log(e.value)}return(u,d)=>(m(),h("div",gt,[g(t("div",mt,[t("div",ht,[bt,(m(!0),h(U,null,D(n.value,_=>(m(),h("span",{key:_.id},[t("p",yt,C(_.data().name)+"\uFF1A"+C(_.data().comment),1),wt,$t]))),128)),t("p",St,[Tt,g(t("input",{"onUpdate:modelValue":d[0]||(d[0]=_=>a.value=_)},null,512),[[S,a.value]]),t("button",{class:"Button",onClick:d[1]||(d[1]=_=>c())},"\u9001\u51FA")])])],512),[[w,e.value]]),t("div",xt,[(m(!0),h(U,null,D(s.value,_=>(m(),h("span",{key:_.id},[t("div",null,[t("img",{src:r.value[_.id]},null,8,Ct),t("p",kt,C(_.data().title),1),t("p",It,C(L(Ee).timestampToYYYY_MM_DD_mm(_.data().createTime.seconds*1e3)),1),t("p",Ut,C(_.data().text),1),t("p",{onClick:f=>i(_.id),style:{cursor:"pointer","user-select":"none"}}," \u7559\u8A00 ",8,Dt)]),Mt]))),128))])]))}};var Nt=T(Et,[["__scopeId","data-v-6e57a883"]]);const Yt={id:"home-root"},Rt={class:"content-region"},Lt={setup(o){const s=v(!1);B("isContentEditShow",s),B("setContentEditShow",e),N(()=>{var i=I.getUser();i&&i.username=="cookie"&&e(!0)});function e(i){console.log("isShow"+i),s.value=i}const a=v(0),n=v(0);function r(i){a.value=i}function c(i){n.value=i}return(i,u)=>(m(),h("div",Yt,[x(ge,{id:"top-tab-region",onOnTabSelected:r}),t("div",Rt,[g(x(Be,null,null,512),[[w,a.value==0]]),g(x(ut,{onOnTabSelected:c},null,512),[[w,a.value==1]]),g(x(Nt,{onOnTabSelected:c},null,512),[[w,a.value==2]]),g(x(ft,{onOnTabSelected:c},null,512),[[w,a.value==3]])])]))}};var Vt=T(Lt,[["__scopeId","data-v-3d6d7faa"]]);const Ft=ne({history:le("/"),routes:[{path:"/",name:"home",component:Vt}]}),H=re(ve);H.use(ie());H.use(Ft);H.mount("#app");
