import{o as f,c as h,a as x,u as L,R as X,r as v,b as P,F as U,d as D,i as R,t as C,e as Z,P as ee,g as j,f as z,h as te,j as ae,k as V,Y as q,w as M,l as F,m as oe,n as W,p as ne,q as N,s as t,v as J,x as m,y as $,z as w,A as K,B as G,C as b,D as A,E as se,G as le,H as re,I as ie}from"./vendor.be8d1c76.js";const ue=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}};ue();var T=(a,n)=>{const e=a.__vccOpts||a;for(const[o,s]of n)e[o]=s;return e};const ce={id:"root"},de={setup(a){return(n,e)=>(f(),h("div",ce,[x(L(X))]))}};var ve=T(de,[["__scopeId","data-v-7ab6e8e2"]]);const _e={class:"tab-root"},pe=["onClick"],ge={emits:["onTabSelected"],setup(a,{emit:n}){const e=v(0);R("setContentEditShow");const o=R("isContentEditShow"),s=P(()=>o.value?["\u9996\u9801","\u5275\u5EFA/\u767B\u5165"," \u751F\u6D3B\u65E5\u8A18","\u5167\u5BB9\u7DE8\u8F2F"]:["\u9996\u9801","\u5275\u5EFA/\u767B\u5165"," \u751F\u6D3B\u65E5\u8A18"]);function r(c){e.value=c,console.log(c),n("onTabSelected",c)}return(c,i)=>(f(),h("div",_e,[(f(!0),h(U,null,D(L(s),(u,d)=>(f(),h("div",{class:"btn",key:u,onClick:_=>r(d)},C(u),9,pe))),128))]))}};var me=T(ge,[["__scopeId","data-v-90bb23a6"]]),fe="/assets/pic-1.d2537eb7.jpeg",he="/assets/ig-icon.6c0f5ddb.png";const ye={apiKey:"AIzaSyDuF4cljN9EPkNLRRHLOjfqEEByFdPPAL8",authDomain:"cookielife-de262.firebaseapp.com",projectId:"cookielife-de262",storageBucket:"gs://cookielife-de262.appspot.com",messagingSenderId:"92600885191",appId:"1:92600885191:web:4e2175538c90866f9743e2"},O=Z(ye);async function be(a,n){const e=j(O),o=z(e,a);te(o,n).then(s=>{console.log("Uploaded a blob or file!")})}async function $e(a){const n=j(O);var e=await ae(z(n,"diary/"+a+"/contentImage"));return e}const S=ee(O);async function Se(a){const n=V(S,"diary",a),e=await q(n);return e.exists()?(console.log("Document data:",e.data()),e):(console.log("No such document!"),null)}async function we(a){const n=V(S,"user",a),e=await q(n);return e.exists()?(console.log("Document data:",e.data()),e):(console.log("No such document!"),null)}async function Te(){const a=M(S,"user");return(await F(a)).docs}async function xe(a,n){await oe(V(S,"user",a),{password:n})}async function Ce(a,n){return await W(M(S,"diary"),{title:a,text:n,createTime:ne()})}async function ke(a,n,e){console.log("createComment"),console.log(a),console.log(n),console.log(e),await W(M(S,"diary/"+e+"/comment"),{name:n,comment:a})}async function Ie(){return(await F(M(S,"diary"))).docs}async function Ue(a){return(await F(M(S,"diary/"+a+"/comment"))).docs}var y={getUsers:Te,getUser:we,createUser:xe,createDiary:Ce,getDiaries:Ie,getDiary:Se,createComment:ke,showMessages:Ue,testUpload:be,getDiaryContentImageUrl:$e};function De(a){const n=Math.floor(a/60);return a=a%60,n+":"+a}function Q(a){var n=new Date(a),e=n.getFullYear(),o=n.getMonth()+1;o<10&&(o="0"+o);var s=n.getDate();return s<10&&(s="0"+s),console.log(n),console.log(o),console.log(s),e+"-"+o+"-"+s}function Me(a){var n=new Date(a),e=n.getHours(),o=n.getMinutes();return Q(a)+" "+e+":"+o}var Ee={secToHHMMSS:De,timestampToYYYY_MM_DD:Q,timestampToYYYY_MM_DD_mm:Me};const Ne={id:"tab-home-root"},Ye=J('<div class="top" data-v-e6a59236><img src="'+fe+'" alt="\u4E0D\u597D\u610F\u601D\uFF0C\u672C\u67F4\u5BB3\u7F9E\uFF0C\u66AB\u6642\u4E0D\u898B\u4EBA" data-v-e6a59236><h1 style="font-family:Festive;" data-v-e6a59236>Cookie</h1></div><div class="bottom" data-v-e6a59236><div class="data bottom-bgcolor" data-v-e6a59236><h2 data-v-e6a59236>\u59D3\u540D\uFF1ACookie</h2><h2 data-v-e6a59236>\u5E74\u9F61\uFF1A3</h2><h2 data-v-e6a59236>\u751F\u65E5\uFF1A12\u67081\u865F</h2><h2 data-v-e6a59236>\u9AD4\u91CD\uFF1A7\u516C\u65A4</h2><h2 data-v-e6a59236>\u7279\u5FB5\uFF1A\u8116\u5B50\u6234\u8457\u767D\u570D\u5DFE\uFF0C\u8173\u4E0A\u7A7F\u8457\u767D\u896A\u896A\uFF0C\u6BCF\u5929\u53EA\u6703\u61A8\u7B11</h2></div></div>',2),Re={class:"picture"},Le=["src"],Ve={class:"picture"},Fe=["src"],Oe=J('<div class="intro bottom-bgcolor" style="margin-top:50px;" data-v-e6a59236><p data-v-e6a59236> \u6C6A\u6C6A...\u5927\u5BB6\u597D\u6211\u53EB\u66FEcookie\uFF0C\u662F\u4E00\u96BB\u67F4\u67F4\uFF0C\u4E09\u5E74\u524D\u4F86\u5230\u9019\u500B\u5BB6\u5F8C\u6BCF\u5929\u5C31\u904E\u8457\u7687\u5E1D\u822C\u7684\u751F\u6D3B\u3002 <br data-v-e6a59236>\u56E0\u70BA\u98FC\u6599\u4E7E\u5DF4\u5DF4\u7684\uFF0C\u597D\u96E3\u5403\uFF0C\u6240\u4EE5\u6BCF\u5929\u90FD\u6709\u9BAE\u98DF\uFF0C\u96D6\u7136\u6211\u9084\u662F\u90A3\u9EBC\u7626\u3002 <br data-v-e6a59236>\u672C\u4F86\u6211\u6BCF\u5929\u5230\u898F\u5B9A\u6642\u9593\u5C31\u8981\u88AB\u95DC\u56DE\u5BB6\u7761\u89BA\uFF0C\u4F46\u662F\u4F9D\u9760\u6211\u7684\u7B11\u5BB9\u548C\u5805\u6301\u4E0D\u61C8\u7684\u7CBE\u795E\uFF0C\u7D42\u65BC\u6574\u500B\u4E00\u6A13\u90FD\u662F\u6211\u7684\u5730\u76E4\u4E86\uFF01 <br data-v-e6a59236>\u6BCF\u5929\u665A\u4E0A\u90FD\u662F\u6211\u7684\u6563\u6B65\u6642\u9593\uFF0C\u5728\u8DEF\u4E0A\u6211\u90FD\u6703\u770B\u5230\u6211\u7684\u5C0F\u9ED1\u670B\u53CB\uFF0C\u6211\u4E00\u76F4\u60F3\u8981\u627E\u4ED6\u5011\u73A9\uFF0C\u4F46\u4ED6\u5011\u90FD\u4E0D\u7406\u6211\u8B93\u6211\u597D\u96E3\u904E\u3002 <br data-v-e6a59236>\u5373\u4F7F\u9019\u6A23\uFF0C\u6211\u9084\u662F\u6709\u611B\u6211\u7684\u5BB6\u4EBA\u6BCF\u5929\u966A\u6211\u73A9\u3002 <br data-v-e6a59236>\u56E0\u70BA\u904E\u8457\u9019\u7A2E\u60A0\u9592\u7684\u751F\u6D3B\uFF0C\u6240\u4EE5\u6211\u6BCF\u5929\u90FD\u6703\u7B11\u8457\u5C0D\u5F85\u6BCF\u4E00\u500B\u4EBA\uFF0C\u5E0C\u671B\u5E36\u7D66\u5927\u5BB6\u5E78\u798F\u3002 </p></div><div class="special" style="margin-top:50px;" data-v-e6a59236><div class="special-text" data-v-e6a59236><h2 data-v-e6a59236>\u7279\u9577\uFF1A</h2><h3 data-v-e6a59236>\u{1F31F}\u54AC\u4EBA</h3><p data-v-e6a59236> \u4E0D\u7528\u61F7\u7591\uFF0C\u9019\u5C31\u662F\u6211\u7684\u7279\u9577\u4E4B\u4E00\uFF0C\u6211\u6700\u6703\u8DDF\u5728\u5225\u4EBA\u5F8C\u9762\u53BB\u54AC\u4ED6\u5011\u7684\u5C0F\u817F\u4E86\uFF0C<br data-v-e6a59236> \u4F46\u662F\u6211\u4E0D\u662F\u8981\u53BB\u50B7\u5BB3\u5225\u4EBA\uFF0C\u6211\u53EA\u662F\u60F3\u8981\u5F15\u8D77\u5225\u4EBA\u7684\u6CE8\u610F\uFF0C\u8B93\u4ED6\u5011\u53EF\u4EE5\u62B1\u62B1\u6211\uFF0C<br data-v-e6a59236> \u8DDF\u6211\u73A9\uFF0C\u6CE8\u610F\u529B\u7121\u6642\u7121\u523B\u90FD\u5728\u6211\u8EAB\u4E0A\u3002 </p><h3 data-v-e6a59236>\u{1F31F}\u8070\u660E</h3><p data-v-e6a59236> \u6211\u6C92\u6709\u81EA\u8A87\uFF0C\u6211\u771F\u7684\u5F88\u8070\u660E\uFF0C\u96D6\u7136\u6211\u88AB\u898F\u5B9A\u4E0D\u80FD\u5230\u6A13\u4E0A\uFF0C\u4F46\u53EA\u8981\u9580\u7559\u6709\u4E00\u7D72\u7E2B\u9699\uFF0C<br data-v-e6a59236> \u6211\u5C31\u80FD\u8D81\u6A5F\u947D\u4E0A\u53BB\uFF0C\u7D93\u904E\u591A\u6B21\u7684\u7D93\u9A57\uFF0C\u6211\u767C\u73FE\u6A13\u4E0A\u771F\u7684\u662F\u4E0A\u5EC1\u6240\u7684\u597D\u5730\u65B9\u3002<br data-v-e6a59236> \u7576\u7136\uFF0C\u8070\u660E\u4E0D\u80FD\u53EA\u7528\u5728\u4E00\u500B\u5730\u65B9\u3002\u70BA\u4E86\u80FD\u5920\u54C1\u5690\u5404\u7A2E\u7F8E\u98DF\uFF0C\u6211\u7279\u5225\u514B\u670D\u9AD8\u5EA6\uFF0C<br data-v-e6a59236> \u80FD\u5920\u8DF3\u4E0A\u9910\u684C\u6905\uFF0C\u5077\u5403\u684C\u4E0A\u7684\u96DE\u3002\u96D6\u7136\u6BCF\u6B21\u90FD\u9084\u4F86\u4E0D\u53CA\u5403\u6389\u5C31\u88AB\u6436\u56DE\u53BB\uFF0C\u4E00\u76F4\u88AB\u7F75\uFF0C<br data-v-e6a59236> \u4F46\u4ED6\u5011\u90FD\u8AAA\u6211\u5F88\u8070\u660E\uFF0C\u77E5\u9053\u8981\u53FC\u96DE\u817F\u3002\u96DE\u817F\u662F\u6211\u54AC\u7684\u90A3\u584A\u8089\u7684\u540D\u7A31\u55CE\uFF1F\u597D\u5427\uFF0C<br data-v-e6a59236> \u6211\u9084\u662F\u4E0D\u77E5\u9053\uFF0C\u4F46\u6211\u77E5\u9053\u6211\u5F88\u8070\u660E\u5566\u3002 </p></div></div><div class="subject" style="font-family:Festive;" data-v-e6a59236><h3 data-v-e6a59236> \u9019\u500B\u7DB2\u7AD9\u662F\u6211\u7684\u5C0F\u4E3B\u4EBA\u5011\u70BA\u4E86\u7D00\u9304\u6211\u7684\u751F\u6D3B\u6240\u5EFA\u7ACB\u7684\uFF0C\u6BCF\u5929\u7684\u751F\u6D3B\u7D00\u9304\u90FD\u6703\u5728\u9019\u4E0A\u9762\uFF0C <br data-v-e6a59236>\u6709\u8208\u8DA3\u77E5\u9053\u6211\u7684\u65E5\u5E38\u751F\u6D3B\u7684\u4EBA\u90FD\u53EF\u4EE5\u96A8\u6642\u95DC\u6CE8\u9019\u500B\u7DB2\u7AD9\uFF0C\u4E5F\u53EF\u4EE5\u8FFD\u8E64\u4E0B\u9762\u7684ig\u5594 </h3><img style="margin-bottom:50px;user-select:none;-webkit-user-drag:none;" src="'+he+'" data-v-e6a59236></div>',3),He={setup(a){const n=v(18),e=v(25),o=v(22);P(()=>n.value+e.value+o.value);function s(r){return""}return N(()=>{y.getUsers().then(r=>{console.log(r)}),setTimeout(()=>{n.value=100},6e3)}),(r,c)=>(f(),h("div",Ne,[Ye,t("div",Re,[(f(),h(U,null,D([1,2,3],i=>t("div",{class:"circle-test",key:i},[t("img",{src:s()},null,8,Le)])),64))]),t("div",Ve,[(f(),h(U,null,D([4,5],i=>t("div",{class:"circle-test",key:i},[t("img",{src:s()},null,8,Fe)])),64))]),Oe]))}};var Ae=T(He,[["__scopeId","data-v-e6a59236"]]),k=null,B=localStorage.getItem("user");B&&(k=JSON.parse(B));function Be(a){k={username:a},localStorage.setItem("user",JSON.stringify(k)),console.log(k)}function Pe(){k=null,localStorage.setItem("user",null)}function je(){return k}var I={getUser:je,updateUser:Be,logout:Pe};const E=a=>(K("data-v-6285774b"),a=a(),G(),a),ze={id:"Tab-Login"},qe={class:"login-region diamod"},We={style:{padding:"50px"}},Je=E(()=>t("h1",null,"Sign in",-1)),Ke=b("userName\uFF1A "),Ge=b("passWord\uFF1A"),Qe=E(()=>t("br",null,null,-1)),Xe=b(" \u9084\u6C92\u6709\u5E33\u865F\uFF1F \u8ACB\u6309\uFF1A"),Ze={class:"register-region diamod"},et={style:{padding:"50px"}},tt=E(()=>t("h1",null,"Create",-1)),at=b("userName\uFF1A "),ot=b("passWord\uFF1A"),nt=E(()=>t("br",null,null,-1)),st=b(" \u5DF2\u6709\u5E33\u865F\uFF0C\u8ACB\u6309\uFF1A "),lt={class:"register-region diamod"},rt=E(()=>t("h3",null,"\u60A8\u5DF2\u767B\u5165",-1)),it={emits:["subTabSelected"],setup(a,{emit:n}){const e=v(""),o=v(""),s=v(1);v(0),N(()=>{var g=I.getUser();g&&(console.log(g),e.value=g.username,s.value=3)});function r(g){s.value=g}const c=R("setContentEditShow");async function i(g){var l=await y.getUser(e.value);if(!l){alert("login failed");return}if(l.data().password!=g){alert("login failed");return}alert("login success"),I.updateUser(l.id),s.value=3,console.log(l.data().password),c(l.id=="cookie")}function u(g){for(var l=0;l<=g.length;l++){var p=g.charCodeAt(l);if(p<48||p>57&&p<65||p>90&&p<97)return alert("number or English only"),!1}return!0}async function d(){if(console.log(e.value),console.log(o.value),e.value.length<1||e.value.length>20||o.value.length<1||o.value.length>20){alert("format error");return}if(!(!u(e.value)||!u(o.value))){for(var g=await y.getUsers(),l=0;l<g.length;l++){var p=g[l].id;if(g[l].data(),e.value==p){alert("\u5E33\u865F\u5DF2\u6709\u4EBA\u4F7F\u7528\uFF0C\u8ACB\u91CD\u65B0\u8F38\u5165");return}}y.createUser(e.value,o.value)}}function _(){I.logout(),s.value=1,e.value=null,o.value=null,c(!1)}return(g,l)=>(f(),h("div",ze,[m(t("div",qe,[t("div",We,[Je,t("p",null,[Ke,m(t("input",{"onUpdate:modelValue":l[0]||(l[0]=p=>e.value=p)},null,512),[[w,e.value]])]),t("p",null,[Ge,m(t("input",{"onUpdate:modelValue":l[1]||(l[1]=p=>o.value=p)},null,512),[[w,o.value]])]),Qe,t("button",{onClick:l[2]||(l[2]=p=>i(o.value))},"login"),t("h3",null,[Xe,t("span",{onClick:l[3]||(l[3]=p=>r(2)),style:{cursor:"pointer","user-select":"none"}},"\u5275\u5EFA")])])],512),[[$,s.value==1]]),m(t("div",Ze,[t("div",et,[tt,t("p",null,[at,m(t("input",{"onUpdate:modelValue":l[4]||(l[4]=p=>e.value=p)},null,512),[[w,e.value]])]),t("p",null,[ot,m(t("input",{"onUpdate:modelValue":l[5]||(l[5]=p=>o.value=p)},null,512),[[w,o.value]])]),nt,t("button",{onClick:d},"create"),t("h3",null,[st,t("span",{onClick:l[6]||(l[6]=p=>r(1)),style:{cursor:"pointer","user-select":"none"}},"\u767B\u5165")])])],512),[[$,s.value==2]]),m(t("div",lt,[t("div",{style:{padding:"50px"}},[rt,t("button",{onClick:_},"\u767B\u51FA")])],512),[[$,s.value==3]])]))}};var ut=T(it,[["__scopeId","data-v-6285774b"]]);const ct={id:"Tab-edit"},dt=b(" \u7167\u7247"),vt=b("\u6A19\u984C\uFF1A"),_t=b("\u5167\u6587\uFF1A"),pt={emits:["subTabSelected"],setup(a,{emit:n}){const e=v(""),o=v(""),s=v(null);function r(){s.value=document.getElementById("photoFile").files[0]}async function c(){if(document.getElementById("photoFile").value="",o.value.length<1||o.value.length>1e3||e.value.length<1||e.value.length>20){alert("format error");return}const i=await y.createDiary(e.value,o.value);await y.testUpload("diary/"+i.id+"/contentImage",s.value),alert("\u6587\u7AE0\u5275\u5EFA\u6210\u529F\uFF01"),e.value="",o.value="",s.value=""}return(i,u)=>(f(),h("div",ct,[t("p",null,[dt,t("input",{type:"file",id:"photoFile",accept:"image/*",onChange:u[0]||(u[0]=d=>r())},null,32)]),t("p",null,[vt,m(t("textarea",{cols:"1",class:"title","onUpdate:modelValue":u[1]||(u[1]=d=>e.value=d)},null,512),[[w,e.value]])]),t("p",null,[_t,m(t("textarea",{cols:"10",class:"input","onUpdate:modelValue":u[2]||(u[2]=d=>o.value=d)},null,512),[[w,o.value]])]),t("button",{onClick:u[3]||(u[3]=d=>c())},"\u767C\u9001")]))}};var gt=T(pt,[["__scopeId","data-v-2574f0a4"]]);const Y=a=>(K("data-v-85e5e3a2"),a=a(),G(),a),mt={id:"root-diary"},ft={class:"left"},ht={style:{"background-color":"blanchedalmond",width:"auto","border-radius":"25px","margin-left":"10px"}},yt=Y(()=>t("h1",{class:"leftMargin",style:{"padding-top":"10px"}},"\u7559\u8A00\u5340",-1)),bt={class:"leftMargin"},$t=Y(()=>t("p",null,null,-1)),St=Y(()=>t("p",null,null,-1)),wt={class:"leftMargin",style:{"padding-bottom":"20px"}},Tt=b(" \u7559\u8A00\uFF1A"),xt={class:"right"},Ct=["src"],kt={class:"fontStyle"},It={style:{"font-size":"6px"}},Ut={class:"fontStyle"},Dt=["onClick"],Mt=Y(()=>t("hr",null,null,-1)),Et={setup(a){const n=v([]),e=v(""),o=v(""),s=v([]);v([]);const r=v({});N(()=>{y.getDiaries().then(u=>{n.value=u,n.value.forEach(d=>{y.getDiaryContentImageUrl(d.id).then(_=>{r.value[d.id]=_})})})});async function c(){const u=o.value;o.value="";var d=await y.getDiary(e.value);!d||!I.getUser()||(await y.createComment(u,I.getUser().username,d.id),i(e.value))}async function i(u){e.value=u,s.value=await y.showMessages(e.value),console.log(e.value)}return(u,d)=>(f(),h("div",mt,[m(t("div",ft,[t("div",ht,[yt,(f(!0),h(U,null,D(s.value,_=>(f(),h("span",{key:_.id},[t("p",bt,C(_.data().name)+"\uFF1A"+C(_.data().comment),1),$t,St]))),128)),t("p",wt,[Tt,m(t("input",{"onUpdate:modelValue":d[0]||(d[0]=_=>o.value=_)},null,512),[[w,o.value]]),t("button",{onClick:d[1]||(d[1]=_=>c())},"\u9001\u51FA")])])],512),[[$,e.value]]),t("div",xt,[(f(!0),h(U,null,D(n.value,_=>(f(),h("span",{key:_.id},[t("div",null,[t("img",{src:r.value[_.id]},null,8,Ct),t("p",kt,C(_.data().title),1),t("p",It,C(L(Ee).timestampToYYYY_MM_DD_mm(_.data().createTime.seconds*1e3)),1),t("p",Ut,C(_.data().text),1),t("p",{onClick:g=>i(_.id),style:{cursor:"pointer","user-select":"none","padding-left":"500px"}}," \u7559\u8A00 ",8,Dt)]),Mt]))),128))])]))}};var Nt=T(Et,[["__scopeId","data-v-85e5e3a2"]]);const Yt={id:"home-root"},Rt={class:"content-region"},Lt={setup(a){const n=v(!1);A("isContentEditShow",n),A("setContentEditShow",e),N(()=>{var i=I.getUser();i&&i.username=="cookie"&&e(!0)});function e(i){console.log("isShow"+i),n.value=i}const o=v(0),s=v(0);function r(i){o.value=i}function c(i){s.value=i}return(i,u)=>(f(),h("div",Yt,[x(me,{id:"top-tab-region",onOnTabSelected:r}),t("div",Rt,[m(x(Ae,null,null,512),[[$,o.value==0]]),m(x(ut,{onOnTabSelected:c},null,512),[[$,o.value==1]]),m(x(Nt,{onOnTabSelected:c},null,512),[[$,o.value==2]]),m(x(gt,{onOnTabSelected:c},null,512),[[$,o.value==3]])])]))}};var Vt=T(Lt,[["__scopeId","data-v-3d6d7faa"]]);const Ft=se({history:le("/"),routes:[{path:"/",name:"home",component:Vt}]}),H=re(ve);H.use(ie());H.use(Ft);H.mount("#app");
